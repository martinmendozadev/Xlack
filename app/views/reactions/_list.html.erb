<div id="reactions_message_<%= message.id %>" class="flex flex-wrap items-center gap-1 mt-1 min-h-[24px]">

  <% grouped_reactions(message).each do |emoji, count| %>
    <%= button_to channel_message_reaction_path(message.channel, message),
        params: { emoji: emoji },
        method: :post,
        class: "flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-50 hover:bg-blue-100 border border-blue-200 text-blue-600 cursor-pointer transition" do %>
        <span><%= emoji %></span>
        <span class="ml-1 text-[10px]"><%= count %></span>
    <% end %>
  <% end %>

  <div class="relative group">
    <button class="flex items-center justify-center w-6 h-6 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-500 text-xs transition">
      +
    </button>

    <div class="absolute bottom-full left-0 mb-1 hidden group-hover:flex bg-white shadow-lg border border-gray-200 rounded-lg p-1 space-x-1 z-10">
      <% ["ðŸ‘", "â¤ï¸", "ðŸ˜‚", "ðŸŽ‰", "ðŸ‘€", "ðŸ”¥"].each do |emoji| %>
        <%= button_to channel_message_reaction_path(message.channel, message),
            params: { emoji: emoji },
            method: :post,
            class: "hover:bg-gray-100 p-1 rounded text-lg leading-none" do %>
          <%= emoji %>
        <% end %>
      <% end %>
    </div>
  </div>

</div>
