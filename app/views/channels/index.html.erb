<%= turbo_stream_from @active_channel %>

<div class="flex h-screen antialiased text-gray-900 bg-white overflow-hidden">

  <div class="flex-1 flex flex-col min-w-0 bg-white">

    <div class="border-b border-gray-200 px-6 py-3 flex justify-between items-center bg-white shadow-sm">
      <div class="flex items-center">
        <h2 class="text-lg font-bold text-gray-800 flex items-center">
          <% if @active_channel %>
            <%= channel_icon(@active_channel) %>
            <%= channel_display_name(@active_channel) %>
          <% else %>
            <%= t("channels.no_active_channel") %>
          <% end %>
        </h2>
      </div>
    </div>

   <div class="flex-1 overflow-y-auto p-6 space-y-6" id="messages">
      <% if @messages.any? %>
        <%= render @messages %>
      <% else %>
        <div id="no_messages_placeholder" class="text-center text-gray-400 mt-10">
          <p><%= t("channels.no_messages") %></p>
        </div>
      <% end %>
    </div>

    <div class="p-4 border-t border-gray-200 bg-gray-50">
      <%= render partial: "messages/form", locals: { channel: @active_channel } %>
    </div>

  </div>

  <turbo-frame id="thread_view"></turbo-frame>
  <turbo-frame id="modal"></turbo-frame>
</div>
